<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>OMAX 1530 Maintenance Tracker</title>

  <!-- Your stylesheet -->
  <link rel="stylesheet" href="style.css" />

  <!-- Firebase SDKs (v8 CDN for static sites) -->
  <script src="https://www.gstatic.com/firebasejs/8.10.1/firebase-app.js"></script>
  <script src="https://www.gstatic.com/firebasejs/8.10.1/firebase-auth.js"></script>
  <script src="https://www.gstatic.com/firebasejs/8.10.1/firebase-firestore.js"></script>

  <!-- Firebase project config (correct values) -->
  <script>
    window.FIREBASE_CONFIG = {
      apiKey: "AIzaSyDhUtEx4uvUN_CssllXlm5f3dE8-MTqei0",
      authDomain: "omax-maintenance.firebaseapp.com",
      projectId: "omax-maintenance",
      storageBucket: "omax-maintenance.appspot.com",
      messagingSenderId: "496764208080",
      appId: "1:496764208080:web:43cdd192e462844f7b5335"
    };
  </script>
</head>
<body>
  <header>
    <div class="header-bar">
      <h1><span class="brand-emblem">OMAX</span> 1530 Maintenance Tracker</h1>
      <div class="header-brand">
        <span class="header-motto">&ldquo;TRY HARDER SUCK LESS&rdquo;</span>
        <img
          class="header-logo"
          src="assets/candmlogo.svg"
          alt="C &amp; M Concrete Precast and Construction logo"
        />
      </div>
    </div>
    <nav class="nav">
      <a href="#dashboard"  id="tab-dashboard"  class="active">Dashboard</a>
      <a href="#settings"   id="tab-settings">Maintenance Settings</a>
      <a href="#costs"      id="tab-costs">Cost Analysis</a>
      <a href="#inventory"  id="tab-inventory">Inventory</a>
      <a href="#jobs"       id="tab-jobs">Cutting Jobs</a>
    </nav>
  </header>

  <main id="content"></main>

  <footer>
    <small>Cloud sync via Firestore. Assumes 8 hrs/day for scheduling.</small>
  </footer>

  <!-- Auth toolbar + modal (NEW) -->
  <div id="authBar" style="display:flex; gap:8px; align-items:center; padding:8px 12px; border-top:1px solid #eee; margin-top:18px;">
    <span id="authStatus">Not signed in</span>
    <button id="btnSignIn">Sign In</button>
    <button id="btnSignOut" style="display:none;">Sign Out</button>
  </div>

  <div id="authModal" style="display:none; position:fixed; inset:0; background:rgba(0,0,0,.4); align-items:center; justify-content:center; z-index:9999;">
    <div style="background:#fff; padding:16px; border-radius:10px; width:min(420px, 90%); box-shadow:0 10px 30px rgba(0,0,0,.2);">
      <h3 style="margin:0 0 8px;">Sign in to workspace</h3>
      <p style="margin:0 0 10px;">Use the same email on all devices to see the same shared data.</p>
      <form id="authForm" style="display:grid; gap:8px;">
        <input id="authEmail" type="email" placeholder="you@example.com" required />
        <input id="authPass" type="password" placeholder="Password" required />
        <button type="submit">Sign In</button>
        <button type="button" id="authClose">Cancel</button>
      </form>
      <small style="color:#666; display:block; margin-top:8px;">First time with an email? The account will be created automatically.</small>
    </div>
  </div>

  <!-- Your app code (split into focused modules; order matters) -->
  <script src="js/core.js"></script>
  <script src="js/computations.js"></script>
  <script src="js/pump.js"></script>
  <script src="js/calendar.js"></script>
  <script src="js/views.js"></script>
  <script src="js/renderers.js"></script>
  <script src="js/router.js"></script>
</body>
</html>
